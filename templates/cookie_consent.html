{% if not session.get('cookie_consent') %}
<div id="cookie-consent-banner" class="position-fixed bottom-0 start-0 end-0 p-3 bg-dark text-white" style="z-index: 1000;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <p class="mb-0">We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. 
                <a href="{{ url_for('privacy_policy') }}" class="text-white">Learn more</a></p>
            </div>
            <div class="col-md-4 text-md-end mt-2 mt-md-0">
                <button onclick="acceptCookies()" class="btn btn-primary me-2">Accept</button>
                <button onclick="declineCookies()" class="btn btn-outline-light">Decline</button>
            </div>
        </div>
    </div>
</div>

<script>
function acceptCookies() {
    fetch('{{ url_for("accept_cookies") }}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        }
    }).then(() => {
        document.getElementById('cookie-consent-banner').style.display = 'none';
    });
}

function declineCookies() {
    fetch('{{ url_for("decline_cookies") }}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        }
    }).then(() => {
        document.getElementById('cookie-consent-banner').style.display = 'none';
    });
}
</script>
{% endif %} 